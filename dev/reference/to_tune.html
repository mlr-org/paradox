<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="to_tune() creates a TuneToken object which can be assigned to the $values slot of a ParamSet as an
alternative to a concrete value. This indicates that the value is not given directly but should be tuned using
bbotk or mlr3tuning. If the thus parameterized object
is invoked directly, without being wrapped by or given to a tuner, it will give an error.
The tuning range ParamSet that is constructed from the TuneToken values in a ParamSet's $values slot
can be accessed through the ParamSet$search_space() method. This is done automatically by tuners if no tuning range
is given, but it is also possible to access the $search_space() method, modify it further, and give the modified
ParamSet to a tuning function (or do anything else with it, nobody is judging you).
A TuneToken represents the range over which the parameter whose $values slot it occupies should be tuned over. It
can be constructed via the to_tune() function in one of several ways:
to_tune(): Indicates a parameter should be tuned over its entire range. Only applies to finite parameters
(i.e. discrete or bounded numeric parameters)
to_tune(lower, upper, logscale): Indicates a numeric parameter should be tuned in the inclusive interval spanning
lower to upper, possibly on a log scale if logscale is se to TRUE. All parameters are optional, and the
parameter's own lower / upper bounds are used without log scale, by default. Depending on the parameter,
integer (if it is a ParamInt) or real values (if it is a ParamDbl) are used.
lower, upper, and logscale can be given by position, except when only one of them is given, in which case
it must be named to disambiguate from the following cases.
When logscale is TRUE, then a trafo is generated automatically that transforms to the given bounds. The
bounds are log()'d pre-trafo (see examples). See the logscale argument of Domain functions for more info.
Note that &quot;logscale&quot; is not inherited from the Param that the TuneToken belongs to! Defining a parameter
with p_dbl(... logscale = TRUE) will not automatically give the to_tune() assigned to it log-scale.
to_tune(levels): Indicates a parameter should be tuned through the given discrete values. levels can be any
named or unnamed atomic vector or list (although in the unnamed case it must be possible to construct a
corresponding character vector with distinct values using as.character).
to_tune(&amp;lt;Domain&amp;gt;): The given Domain object (constructed e.g. with p_int() or p_fct()) indicates
the range which should be tuned over. The supplied trafo function is used for parameter transformation.
to_tune(&amp;lt;Param&amp;gt;): The given Param object indicates the range which should be tuned over.
to_tune(&amp;lt;ParamSet&amp;gt;): The given ParamSet is used to tune over a single Param. This is useful for cases
where a single evaluation-time parameter value (e.g. ParamUty) is constructed from multiple tuner-visible
parameters (which may not be ParamUty). The supplied ParamSet should always contain a $trafo function,
which must always return a list with a single entry.


The TuneToken object's internals are subject to change and should not be relied upon. TuneToken objects should
only be constructed via to_tune(), and should only be used by giving them to $values of a ParamSet."><title>Indicate that a Parameter Value should be Tuned — to_tune • paradox</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.4/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.4/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.4/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Indicate that a Parameter Value should be Tuned — to_tune"><meta property="og:description" content="to_tune() creates a TuneToken object which can be assigned to the $values slot of a ParamSet as an
alternative to a concrete value. This indicates that the value is not given directly but should be tuned using
bbotk or mlr3tuning. If the thus parameterized object
is invoked directly, without being wrapped by or given to a tuner, it will give an error.
The tuning range ParamSet that is constructed from the TuneToken values in a ParamSet's $values slot
can be accessed through the ParamSet$search_space() method. This is done automatically by tuners if no tuning range
is given, but it is also possible to access the $search_space() method, modify it further, and give the modified
ParamSet to a tuning function (or do anything else with it, nobody is judging you).
A TuneToken represents the range over which the parameter whose $values slot it occupies should be tuned over. It
can be constructed via the to_tune() function in one of several ways:
to_tune(): Indicates a parameter should be tuned over its entire range. Only applies to finite parameters
(i.e. discrete or bounded numeric parameters)
to_tune(lower, upper, logscale): Indicates a numeric parameter should be tuned in the inclusive interval spanning
lower to upper, possibly on a log scale if logscale is se to TRUE. All parameters are optional, and the
parameter's own lower / upper bounds are used without log scale, by default. Depending on the parameter,
integer (if it is a ParamInt) or real values (if it is a ParamDbl) are used.
lower, upper, and logscale can be given by position, except when only one of them is given, in which case
it must be named to disambiguate from the following cases.
When logscale is TRUE, then a trafo is generated automatically that transforms to the given bounds. The
bounds are log()'d pre-trafo (see examples). See the logscale argument of Domain functions for more info.
Note that &quot;logscale&quot; is not inherited from the Param that the TuneToken belongs to! Defining a parameter
with p_dbl(... logscale = TRUE) will not automatically give the to_tune() assigned to it log-scale.
to_tune(levels): Indicates a parameter should be tuned through the given discrete values. levels can be any
named or unnamed atomic vector or list (although in the unnamed case it must be possible to construct a
corresponding character vector with distinct values using as.character).
to_tune(&amp;lt;Domain&amp;gt;): The given Domain object (constructed e.g. with p_int() or p_fct()) indicates
the range which should be tuned over. The supplied trafo function is used for parameter transformation.
to_tune(&amp;lt;Param&amp;gt;): The given Param object indicates the range which should be tuned over.
to_tune(&amp;lt;ParamSet&amp;gt;): The given ParamSet is used to tune over a single Param. This is useful for cases
where a single evaluation-time parameter value (e.g. ParamUty) is constructed from multiple tuner-visible
parameters (which may not be ParamUty). The supplied ParamSet should always contain a $trafo function,
which must always return a list with a single entry.


The TuneToken object's internals are subject to change and should not be relied upon. TuneToken objects should
only be constructed via to_tune(), and should only be used by giving them to $values of a ParamSet."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">paradox</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.10.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/paradox/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Indicate that a Parameter Value should be Tuned</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/paradox/blob/HEAD/R/to_tune.R" class="external-link"><code>R/to_tune.R</code></a></small>
      <div class="d-none name"><code>to_tune.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>to_tune()</code> creates a <code>TuneToken</code> object which can be assigned to the <code>$values</code> slot of a <code><a href="ParamSet.html">ParamSet</a></code> as an
alternative to a concrete value. This indicates that the value is not given directly but should be tuned using
<a href="https://CRAN.R-project.org/package=bbotk" class="external-link"><span class="pkg">bbotk</span></a> or <a href="https://CRAN.R-project.org/package=mlr3tuning" class="external-link"><span class="pkg">mlr3tuning</span></a>. If the thus parameterized object
is invoked directly, without being wrapped by or given to a tuner, it will give an error.</p>
<p>The tuning range <code><a href="ParamSet.html">ParamSet</a></code> that is constructed from the <code>TuneToken</code> values in a <code><a href="ParamSet.html">ParamSet</a></code>'s <code>$values</code> slot
can be accessed through the <code>ParamSet$search_space()</code> method. This is done automatically by tuners if no tuning range
is given, but it is also possible to access the <code>$search_space()</code> method, modify it further, and give the modified
<code><a href="ParamSet.html">ParamSet</a></code> to a tuning function (or do anything else with it, nobody is judging you).</p>
<p>A <code>TuneToken</code> represents the range over which the parameter whose <code>$values</code> slot it occupies should be tuned over. It
can be constructed via the <code>to_tune()</code> function in one of several ways:</p><ul><li><p><strong><code>to_tune()</code></strong>: Indicates a parameter should be tuned over its entire range. Only applies to finite parameters
(i.e. discrete or bounded numeric parameters)</p></li>
<li><p><strong><code>to_tune(lower, upper, logscale)</code></strong>: Indicates a numeric parameter should be tuned in the inclusive interval spanning
<code>lower</code> to <code>upper</code>, possibly on a log scale if <code>logscale</code> is se to <code>TRUE</code>. All parameters are optional, and the
parameter's own lower / upper bounds are used without log scale, by default. Depending on the parameter,
integer (if it is a <code><a href="ParamInt.html">ParamInt</a></code>) or real values (if it is a <code><a href="ParamDbl.html">ParamDbl</a></code>) are used.<br><code>lower</code>, <code>upper</code>, and <code>logscale</code> can be given by position, except when only one of them is given, in which case
it must be named to disambiguate from the following cases.<br>
When <code>logscale</code> is <code>TRUE</code>, then a <code>trafo</code> is generated automatically that transforms to the given bounds. The
bounds are log()'d pre-trafo (see examples). See the <code>logscale</code> argument of <code><a href="Domain.html">Domain</a></code> functions for more info.<br>
Note that "logscale" is <em>not</em> inherited from the <code><a href="Param.html">Param</a></code> that the <code>TuneToken</code> belongs to! Defining a parameter
with <code>p_dbl(... logscale = TRUE)</code> will <em>not</em> automatically give the <code>to_tune()</code> assigned to it log-scale.</p></li>
<li><p><strong><code>to_tune(levels)</code></strong>: Indicates a parameter should be tuned through the given discrete values. <code>levels</code> can be any
named or unnamed atomic vector or list (although in the unnamed case it must be possible to construct a
corresponding <code>character</code> vector with distinct values using <code>as.character</code>).</p></li>
<li><p><strong><code>to_tune(&lt;Domain&gt;)</code></strong>: The given <code><a href="Domain.html">Domain</a></code> object (constructed e.g. with <code><a href="Domain.html">p_int()</a></code> or <code><a href="Domain.html">p_fct()</a></code>) indicates
the range which should be tuned over. The supplied <code>trafo</code> function is used for parameter transformation.</p></li>
<li><p><strong><code>to_tune(&lt;Param&gt;)</code></strong>: The given <code><a href="Param.html">Param</a></code> object indicates the range which should be tuned over.</p></li>
<li><p><strong><code>to_tune(&lt;ParamSet&gt;)</code></strong>: The given <code><a href="ParamSet.html">ParamSet</a></code> is used to tune over a single <code>Param</code>. This is useful for cases
where a single evaluation-time parameter value (e.g. <code><a href="ParamUty.html">ParamUty</a></code>) is constructed from multiple tuner-visible
parameters (which may not be <code>ParamUty</code>). The supplied <code><a href="ParamSet.html">ParamSet</a></code> should always contain a <code>$trafo</code> function,
which must always return a <code>list</code> with a single entry.</p></li>
</ul><p>The <code>TuneToken</code> object's internals are subject to change and should not be relied upon. <code>TuneToken</code> objects should
only be constructed via <code>to_tune()</code>, and should only be used by giving them to <code>$values</code> of a <code><a href="ParamSet.html">ParamSet</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">to_tune</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>if given, restricts the range to be tuning over, as described above.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>TuneToken</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ParamSet construction helpers: 
<code><a href="Domain.html">Domain</a></code>,
<code><a href="ps.html">ps</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">params</span> <span class="op">=</span> <span class="va"><a href="ParamSet.html">ParamSet</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamInt.html">ParamInt</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"int"</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamInt.html">ParamInt</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"int_unbounded"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamDbl.html">ParamDbl</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"dbl"</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamDbl.html">ParamDbl</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"dbl_unbounded"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamDbl.html">ParamDbl</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"dbl_bounded_below"</span>, lower <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamFct.html">ParamFct</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"fct"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamUty.html">ParamUty</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"uty1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamUty.html">ParamUty</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"uty2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamUty.html">ParamUty</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"uty3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamUty.html">ParamUty</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"uty4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va"><a href="ParamUty.html">ParamUty</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"uty5"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">params</span><span class="op">$</span><span class="va">values</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune over entire range of `int`, 0..10:</span></span></span>
<span class="r-in"><span>  int <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune over 2..7:</span></span></span>
<span class="r-in"><span>  int_unbounded <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune on a log scale in range 1..10;</span></span></span>
<span class="r-in"><span>  <span class="co"># recognize upper bound of 10 automatically, but restrict lower bound to 1:</span></span></span>
<span class="r-in"><span>  dbl <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span>lower <span class="op">=</span> <span class="fl">1</span>, logscale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co">## This is equivalent to the following:</span></span></span>
<span class="r-in"><span>  <span class="co"># dbl = to_tune(p_dbl(log(1), log(10), trafo = exp)),</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># nothing keeps us from tuning a dbl over integer values</span></span></span>
<span class="r-in"><span>  dbl_unbounded <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="Domain.html">p_int</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune over values "a" and "b" only</span></span></span>
<span class="r-in"><span>  fct <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune over integers 2..8.</span></span></span>
<span class="r-in"><span>  <span class="co"># ParamUty needs type information in form of p_xxx() in to_tune.</span></span></span>
<span class="r-in"><span>  uty1 <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="Domain.html">p_int</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune uty2 like a factor, trying 1, 10, and 100:</span></span></span>
<span class="r-in"><span>  uty2 <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune uty3 like a factor. The factor levels are the names of the list</span></span></span>
<span class="r-in"><span>  <span class="co"># ("exp", "square"), but the trafo will generate the values from the list.</span></span></span>
<span class="r-in"><span>  <span class="co"># This way you can tune an objective that has function-valued inputs.</span></span></span>
<span class="r-in"><span>  uty3 <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>exp <span class="op">=</span> <span class="va">exp</span>, square <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># tune through multiple parameters. When doing this, the ParamSet in tune()</span></span></span>
<span class="r-in"><span>  <span class="co"># must have the trafo that generates a list with one element and the right</span></span></span>
<span class="r-in"><span>  <span class="co"># name:</span></span></span>
<span class="r-in"><span>  uty4 <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="ps.html">ps</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    base <span class="op">=</span> <span class="fu"><a href="Domain.html">p_dbl</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    exp <span class="op">=</span> <span class="fu"><a href="Domain.html">p_int</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .extra_trafo <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">param_set</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>uty4 <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">base</span> <span class="op">^</span> <span class="va">x</span><span class="op">$</span><span class="va">exp</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># not all values need to be tuned!</span></span></span>
<span class="r-in"><span>  uty5 <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $int</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;entire parameter range&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $int_unbounded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> range [2, 7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dbl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> range [1, ...] (log scale)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dbl_unbounded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p_int(lower = 1, upper = 10)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p_fct(levels = c("a", "b"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $uty1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p_int(lower = 2, upper = 8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $uty2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p_fct(levels = c("1", "10", "100"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $uty3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p_fct(levels = c("exp", "square"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $uty4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning over:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ParamSet&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id    class lower upper nlevels        default value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: base ParamDbl     0     1     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  exp ParamInt     0     3       4 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trafo is set.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $uty5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="fu">search_space</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ParamSet&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                id    class lower     upper nlevels        default value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:           int ParamInt     0 10.000000      11 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: int_unbounded ParamInt     2  7.000000       6 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:           dbl ParamDbl     0  2.302585     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: dbl_unbounded ParamInt     1 10.000000      10 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:           fct ParamFct    NA        NA       2 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:          uty1 ParamInt     2  8.000000       7 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:          uty2 ParamFct    NA        NA       3 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:          uty3 ParamFct    NA        NA       2 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:          base ParamDbl     0  1.000000     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:           exp ParamInt     0  3.000000       4 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trafo is set.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Change `$values` directly and generate new `$search_space()` to play around</span></span></span>
<span class="r-in"><span><span class="va">params</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">uty3</span> <span class="op">=</span> <span class="fl">8</span></span></span>
<span class="r-in"><span><span class="va">params</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">uty2</span> <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="fu">search_space</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ParamSet&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               id    class lower     upper nlevels        default value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:           int ParamInt     0 10.000000      11 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: int_unbounded ParamInt     2  7.000000       6 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:           dbl ParamDbl     0  2.302585     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: dbl_unbounded ParamInt     1 10.000000      10 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:           fct ParamFct    NA        NA       2 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:          uty1 ParamInt     2  8.000000       7 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:          uty2 ParamFct    NA        NA       3 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:          base ParamDbl     0  1.000000     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9:           exp ParamInt     0  3.000000       4 &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trafo is set.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Notice how `logscale` applies `log()` to lower and upper bound pre-trafo:</span></span></span>
<span class="r-in"><span><span class="va">params</span> <span class="op">=</span> <span class="va"><a href="ParamSet.html">ParamSet</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va"><a href="ParamDbl.html">ParamDbl</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">params</span><span class="op">$</span><span class="va">values</span><span class="op">$</span><span class="va">x</span> <span class="op">=</span> <span class="fu">to_tune</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">100</span>, logscale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="fu">search_space</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ParamSet&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id    class lower   upper nlevels        default value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  x ParamDbl     0 4.60517     Inf &lt;NoDefault[3]&gt;      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Trafo is set.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">grid</span> <span class="op">=</span> <span class="fu"><a href="generate_design_grid.html">generate_design_grid</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="fu">search_space</span><span class="op">(</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The grid is equidistant within log-bounds pre-trafo:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Design&gt; with 3 rows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2.302585</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 4.605170</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But the values are on a log scale scale with desired bounds after trafo:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">grid</span><span class="op">$</span><span class="fu">transpose</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]$x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Xudong Sun, Martin Binder.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

